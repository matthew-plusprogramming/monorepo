@use '@/app/globals.scss' as *;

$navbar-surface-shadow: color-mix(
  in oklch,
  var(--secondary-color) 10%,
  transparent
);
$nav-link-hover-color: color-mix(
  in oklch,
  var(--text-color) 80%,
  var(--background-color)
);
$navbar-max-width: max(980px, 60vw);
$navbar-padding-block: 1rem;
$navbar-padding-inline: clamp(1.25rem, 3vw, 2.5rem);
$navbar-gap: clamp(0.75rem, 2vw, 1.75rem);
$navbar-radius: 1.5rem;
$brand-gap: 0.75rem;
$logo-size: 2rem;
$actions-gap: 0.75rem;

@mixin list-reset {
  margin: 0;
  padding: 0;
  list-style: none;
}

@mixin surface-panel {
  border-radius: $navbar-radius;
  background: var(--background-color);
  box-shadow: 0 18px 48px $navbar-surface-shadow;
}

@mixin center-square($size) {
  display: flex;
  align-items: center;
  justify-content: center;

  width: $size;
  height: $size;
}

@mixin nav-link {
  font-weight: 500;
  color: inherit;
  text-decoration: none;
  transition:
    color var(--transition-medium) ease,
    opacity var(--transition-medium) ease;

  &:hover,
  &:focus-visible {
    color: $nav-link-hover-color;
  }
}

.navbar {
  @include flex-row($navbar-gap);

  box-sizing: border-box;
  width: min($navbar-max-width, 100%);
  margin: 0 auto;
  padding: $navbar-padding-block $navbar-padding-inline;

  color: var(--text-color);

  @include surface-panel;

  & .brandLink {
    font-weight: 700;
    color: inherit;
    text-decoration: none;

    & .brand {
      @include flex-row($brand-gap);

      & .logo {
        @include center-square($logo-size);
      }

      @include respond(laptop) {
        justify-content: center;
        width: 100%;
      }
    }
  }

  & .links {
    @include flex-row(clamp(1rem, 3vw, 2rem), center);

    flex: 1;

    @include list-reset;

    & a {
      @include nav-link;
    }

    @include respond(laptop) {
      flex-wrap: wrap;
      order: 3;
      width: 100%;
    }
  }

  & .actions {
    @include flex-row($actions-gap);

    @include respond(laptop) {
      width: 100%;
    }

    & .navButton {
      @include respond(laptop) {
        flex: 1;
      }
    }
  }

  @include respond(laptop) {
    flex-wrap: wrap;
  }
}
